<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="../js/jquery-1.9.1.min.js"></script>
	</head>
	<body>
	
		<p id="content"></p>
	</body>
	
	<script type="text/javascript">
	
		var v_baseUrl = "http://localhost:8080/yiwu/";
//		register();
//		save_capitalAccount();
//		setDefaultAccount();
//		withdraw();
		payDeposit();
		
		function payDeposit(){
			var v_url = v_baseUrl + "/api/moneyRecord/payDeposit";
			$.ajax({
				type:"post",
				url:v_url,
				data:{distributerId:'3000018',
					amount:'200',
					fundsFirst:true
				},
				dataType:"json",
				timeout:50000,
				async:true,
				success:function(data){
					$('#content').html(JSON.stringify(data));
				},
				error: function(jqXHR){     
					alert("error");
				}
			});
		}
		function withdraw(){
			var v_url = v_baseUrl + "/api/moneyRecord/withdraw";
			$.ajax({
				type:"post",
				url:v_url,
				data:{'distributerId':'3000018',
					'accountId':'2000000',
					'amount':100
				},
				dataType: "json",
				timeout:50000,
				async:true,
				success: function(data) {
					$('#content').html(JSON.stringify(data));
				},
				error: function(jqXHR){     
					alert("error");
				},  
			});
		}
		
		
		
		function setDefaultAccount(){
			var v_url = v_baseUrl + "/api/distributer/capitalAccount/setDefault";
			$.ajax({
				//改成 put会产生跨域问题
				type:"post",
				url:v_url,
				data:{'distributerId':'3000018',
					'accountId':'2000000'
				},
				dataType: "json",
				timeout:50000,
				async:true,
				success: function(data) {
					$('#content').html(JSON.stringify(data));
				},
				error: function(jqXHR){     
					alert("error");
				},  
			});
		}
		
		function register(){
			var v_url = "api/distributer/register";
			var v_data = {"phoneNo":'18832343345',
						'password':'wangwu12',
						'name':'赵匡胤',
						'nickName':'宋太祖',
						'gender':'MALE',
						//改成 '0222-01-01'报错
						'birthday':'1999-01-01',
						'followedByStore.id':63,
						'wechatNo':'oIgTGwx1QisvqOMsZ49zcwyz',
						'invitationCode':'e3inp'
					};
		
		$.ajax({ 
			type: "Post", 	
			url: v_baseUrl+v_url,
			data:v_data,
			dataType: "json",
			timeout:50000,
			success: function(data) {
				$('#content').html(JSON.stringify(data));
			},
			error: function(jqXHR){     
				alert("error");
			},  
		});	
		}
		function save_capitalAccount(){
			var v_url = v_baseUrl + "api/distributer/capitalAccount";
			$.ajax({
				type:"Post",
				url: v_url,
				data:{'distributerId':'3000018',
					'typeName':'支付宝',
					'account':'bbbbbbbbbb'
				},
				dataType: "json",
				timeout:50000,
				success:function(data)	{
					$('#content').html(JSON.stringify(data));
				},
				error: function(jqXHR){     
					alert("error" + jqXHR.getStats());
				},  
			});
		}
	</script>
</html>
